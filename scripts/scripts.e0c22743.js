"use strict";angular.module("hkysrccomApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ngFitText","ngProgress","ui.router"]).service("Projects",function(){return{}}).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("main",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("main.open",{url:"list/:projectId",views:{view_0:{templateUrl:"views/partials/item.html",controller:"ProjectsCtrl"}}}).state("/projects/:projectId",{url:"/projects/:projectId",templateUrl:"views/main.html",controller:"MainCtrl"}).state("/about",{url:"/about",templateUrl:"views/about.html",controller:"AboutCtrl"})}]).factory("getProjects",["$http",function(a){var b=function(){return a({method:"GET",url:"json/projects.json"}).then(function(a){return a.data})};return{getData:b}}]).directive("scrollPosition",["$window",function(a){return{scope:{scroll:"=scrollPosition"},link:function(b,c,d){var e=angular.element(a),f=function(){b.scroll=e.scrollTop()};e.on("scroll",b.$apply.bind(b,f)),f()}}}]),angular.module("hkysrccomApp").controller("MainCtrl",["$scope","ngProgressFactory","$stateParams","getProjects","Projects",function(a,b,c,d,e){a.progressbar=b.createInstance(),a.progressbar.start(),a.projects=e;var f=d.getData();f.then(function(b){a.projects.projects=b,a.progressbar.complete()}),a.hover=function(a){$(a.currentTarget).css("background-color",$(a.currentTarget).attr("data-color"))},a.leave=function(a){$(a.currentTarget).css("background-color","rgba(0,0,0,0)")},a.openItem=function(b,c){$(b.currentTarget).css("height","100vh"),$(".itemContent",b.currentTarget).append("<h1>"+a.projects.id.title+"</h1>")}}]),angular.module("hkysrccomApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("hkysrccomApp").controller("ProjectsCtrl",["$window","$rootScope","$scope","$state","ngProgressFactory","$stateParams","getProjects","Projects",function(a,b,c,d,e,f,g,h){function i(){l++,console.log("called "+l,c.projects.projects[f.projectId].videos);var a=c.projects.projects[f.projectId].videos;$(".project-video").html('<video loop autoplay webkit-playsinline><source src="videos/'+a+'.webm" type="video/webm"><source src="videos/'+a+'.mp4" type="video/mp4"></video>'),c.progressbar.complete()}console.log(c.scroll);var j=$(document).scrollTop();console.log(j),c.progressbar.start(),$(".canvas").addClass("open");var k=c.$watch(function(){c.projects=h,angular.equals({},c.projects)||(i(),k())}),l=0;console.log(f.projectId),c.projectId=f.projectId,c.closeProject=function(a,b){setTimeout(function(){$(".listing").removeClass("noscroll"),d.go("main")},500),$(".canvas").removeClass("open")}}]);